<%- include("partials/header", { title: __("about.title") }) %>

<div class="flex flex-col space-y-12">
    <div id="quienes-somos">
        <h1 class="text-center sm:text-left text-5xl sm:mx-4 sm:text-6xl font-bold text-blue-700 dark:text-blue-200 mb-4"><%- __("about.aboutTitle") %></h1>
        <div class="mx-4 text-center sm:text-left prose dark:prose-invert mobile:prose-lg max-w-none break-words prose-custom">
            <%- __("about.aboutDesc", { magazineUrl: __("magazine.index.url") }) %>
        </div>
    </div>
    
    <div id="nombre">
        <h1 class="text-center sm:text-left text-5xl sm:mx-4 sm:text-6xl font-bold text-blue-700 dark:text-blue-200 mb-4"><%- __("about.nameTitle") %></h1>
        <div class="mx-4 text-center sm:text-left prose dark:prose-invert mobile:prose-lg max-w-none break-words prose-custom">
            <%- __("about.nameDesc") %>
        </div>
    </div>
    
    <div id="junta">
        <h1 class="text-center sm:text-left text-5xl sm:mx-4 sm:text-6xl font-bold text-blue-700 dark:text-blue-200 mb-4"><%- __("about.boardTitle") %></h1>
        <div class="mx-4 text-center sm:text-left prose dark:prose-invert mobile:prose-lg max-w-none break-words prose-custom">
            <%- __("about.boardDesc") %>
            <h2 style="margin-top:2.5rem;margin-bottom:0.75rem;" class="text-center sm:text-left text-4xl sm:text-5xl font-semibold text-blue-800 dark:text-blue-300"><%- __("about.boardTitle") %> <%= currentSchoolYear %></h2>
            <%
                const mainRoles = ["president", "vicepresident", "treasurer", "secretary"];
                const mainBoardMembers = boardMembers.filter(member => {
                    const role = member.directiveBoard.find(item => item.year === currentSchoolYear)?.role;
                    return mainRoles.includes(role);
                }).sort((a, b) => {
                    const roleA = a.directiveBoard.find(item => item.year === currentSchoolYear)?.role || '';
                    const roleB = b.directiveBoard.find(item => item.year === currentSchoolYear)?.role || '';
                    return mainRoles.indexOf(roleA) - mainRoles.indexOf(roleB);
                });
                const otherBoardMembers = boardMembers.filter(member => !mainBoardMembers.includes(member)).sort((a,b) => a.name.localeCompare(b.name));
            %>

            <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 mt-6 not-prose">
                <% mainBoardMembers.forEach(member => { %>
                    <% const role = member.directiveBoard.find(item => item.year === currentSchoolYear)?.role || null; %>
                    <a href="/<%= __('profile.url') %>/<%= member.url %>" class="flex items-center min-w-max  p-3 border-2 border-gray-200 dark:border-gray-600 rounded-lg hover:shadow-md transition-shadow duration-200 no-underline">
                        <img src="<%= member.photo %>" alt="Profile Picture" class="w-12 h-12 box-border ring-1 ring-blue-700 dark:ring-blue-200 rounded-full border-2 border-gray-200 dark:border-gray-600 pointer-events-none" onerror="this.onerror=null;this.src='https://i.pinimg.com/736x/2c/f5/58/2cf558ab8c1f12b43f7326945672805e.jpg';">
                        <div class="ml-3">
                            <h5 class="font-bold text-base"><%= member.name %></h5>
                            <% if (role) { %>
                                <div class="mt-1 px-2 py-0.5 w-fit flex gap-1 items-center border-2 border-blue-700 dark:border-blue-200 text-blue-700 dark:text-blue-200 text-xs font-semibold rounded-md">
                                    <svg xmlns="http://www.w3.org/2000/svg" height="14px" width="14px" viewBox="0 -960 960 960" fill="currentColor"><path d="m344-60-76-128-144-32 14-148-98-112 98-112-14-148 144-32 76-128 136 58 136-58 76 128 144 32-14 148 98 112-98 112 14 148-144 32-76 128-136-58-136 58Zm34-102 102-44 104 44 56-96 110-26-10-112 74-84-74-86 10-112-110-24-58-96-102 44-104-44-56 96-110 24 10 112-74 86 74 84-10 114 110 24 58 96Zm102-318Zm-42 142 226-226-56-58-170 170-86-84-56 56 142 142Z"/></svg>
                                    <span class="h-min"><%= __(`profile.role.${role}`) %></span>
                                </div>
                            <% } %>
                        </div>
                    </a>
                <% }); %>
            </div>

            <% if (otherBoardMembers.length > 0) { %>
                <div class="flex flex-wrap gap-4 mt-4 not-prose">
                    <% otherBoardMembers.forEach(member => { %>
                        <% const role = member.directiveBoard.find(item => item.year === currentSchoolYear)?.role || null; %>
                        <a href="/<%= __('profile.url') %>/<%= member.url %>" class="flex items-center p-3 border-2 border-gray-200 dark:border-gray-600 rounded-lg hover:shadow-md transition-shadow duration-200 no-underline">
                            <img src="<%= member.photo %>" alt="Profile Picture" class="w-12 h-12 rounded-full border-2 border-gray-200 dark:border-gray-600 pointer-events-none" onerror="this.onerror=null;this.src='https://i.pinimg.com/736x/2c/f5/58/2cf558ab8c1f12b43f7326945672805e.jpg';">
                            <div class="ml-3">
                                <h5 class="font-bold text-base"><%= member.name %></h5>
                                <% if (role) { %>
                                    <p class="text-sm text-gray-600 dark:text-gray-400"><%= __(`admin.directiveBoard.roles.${role}`) %></p>
                                <% } %>
                            </div>
                        </a>
                    <% }); %>
                </div>
            <% } %>
        </div>
    </div>
</div>

<%- include("partials/footer") %>