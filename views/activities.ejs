<%- include("partials/header", { title: __("activities.index.title") }) %>

<div>
  <h1 class="text-center sm:text-left text-5xl sm:mx-4 sm:text-6xl font-bold text-blue-700 dark:text-blue-200 mb-8">
    <%= __("activities.index.section") %>
  </h1>
</div>

<div class="max-w-3xl mx-auto space-y-4 px-4">
    <% activities.forEach((activity) => { %>
      <div class="p-4 bg-gray-200 dark:bg-gray-600 rounded-xl shadow-sm hover:shadow-md transition-all">
        <div class="flex flex-col sm:flex-row items-center">
          <!-- Fixed-size image on the left -->
          <a href="/<%= __('activities.index.url') %>/<%= activity.url %>">
            <img src="<%= activity.photo %>" 
                 alt="QED - <%= activity.title %>" 
                 class="w-32 h-32 object-cover rounded-md pointer-events-none"
                 onerror="this.onerror=null;this.src='https://upload.wikimedia.org/wikipedia/commons/thumb/3/3f/Placeholder_view_vector.svg/991px-Placeholder_view_vector.svg.png';">
          </a>
          <!-- Text content on the right -->
          <div class="sm:ml-6 mt-4 sm:mt-0 mb-auto flex-1 text-center sm:text-justify">
            <h2 class="text-3xl flex font-bold space-x-2 <%= activity.noTranslation ? 'text-red-900 dark:text-red-200 underline decoration-dotted' : 'text-blue-700 dark:text-blue-200' %>" 
                <%- activity.noTranslation ? `title="${__('activities.activity.noTranslation')}"` : '' %>>
              <% if (activity.noTranslation) { %>
                <%- include("partials/components/icons/translate", { size: 8 }) %>
              <% } %>
              <a href="/<%= __('activities.index.url') %>/<%= activity.url %>" class="hover:underline min-w-max">
                <%= activity.title %>
              </a>
              <p class="hidden sm:block text-sm w-full text-right text-gray-600 dark:text-gray-400 mb-auto">
                <%= activity.created_at %>
              </p>
            </h2>
            <div class="mt-2 text-md prose dark:prose-invert mobile:prose-md break-words prose-custom">
              <%- activity.description %>
            </div>
          </div>
        </div>
      </div>
    <% }) %>
  </div>

<%- include("partials/footer") %>
